<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- We need a doctype to allow us to use special characters like &nbsp; 
	We use a "strict" DTD to make IE follow the alignment rules. -->

<html t:type="layout" title="Control"
	xmlns:t="http://tapestry.apache.org/schema/tapestry_5_4.xsd">
	<div class="content-area p-y-1">
		<div class="container-fluid">
			<div class="box box-block bg-white">
				<div class="row">
					<div class="eg">

						<table id="personsTable" class="table table-striped table-hover table-condensed">
							<thead>
								<tr>
									<th>
										<table class="inner">
											<thead>
												<tr>
													<th>Id</th>
													<th>email user</th>
													<th></th>
													<th>profil user</th>
													<th></th>
													<th>Action</th>
												</tr>
											</thead>
										</table>
									</th>
								</tr>
							</thead>
							<tbody>
								<t:Loop t:source="persons" t:value="user">
									<tr t:type="zone" t:id="rowZone" id="prop:currentRowZoneId">
										<td>
											<t:form t:id="personForm" context="user.IdUser"
												async="true" validate="user">
												<table class="inner">
													<tbody>
														<tr>
															<td>
																<span t:type="any">${user.IdUser}</span>

																<!-- If optimistic locking is not needed then comment out 
																	this next line. -->
																<t:hidden value="user.IdUser" />
															</td>
															<td>
																<t:if test="!editing">
																	${user.EmailUser}
																</t:if>
																<t:if test="editing">
																	<t:textfield t:id="firstName" value="user.EmailUser" />
																</t:if>
															</td>
															<td></td>
															<td>
																<t:if test="!editing">
																	${user.TypeUser}
																</t:if>
																<t:if test="editing">
																	<t:textfield t:id="TypeUser" value="user.TypeUser" />
																</t:if>
															</td>
															<td></td>
															<td>
																<t:if test="!editing">
																	<t:eventlink event="toEdit" context="user.IdUser"
																		async="true" class="btn btn-default">Edit</t:eventlink>
																</t:if>
																<t:if test="editing">
																	<t:submit t:id="save" value="Save" />
																	<t:eventlink event="cancel" context="user.IdUser"
																		async="true" class="btn btn-default">Cancel</t:eventlink>
																</t:if>
															</td>
														</tr>
														<t:if test="personFormHasErrors">
															<tr>
																<td colspan="6">
																	<t:errors globalOnly="true" />
																</td>
															</tr>
														</t:if>
													</tbody>
												</table>
											</t:form>
										</td>
									</tr>
								</t:Loop>
							</tbody>
						</table>
						<thead>
							<tr>
								<th>
									<table class="inner">
										<thead>
											<t:form t:id="newPersonForm" context="user.IdUser">
												<tr>
													<th>
														<t:textfield t:id="newIdUser" placeholder="id user" />
													</th>
													<th>
														<t:textfield t:id="newEmailUser" placeholder="email user"
															type="email" />
													</th>
													<th></th>
													<th>
														<t:textfield t:id="newProfilUser" placeholder="profil user" />
													</th>
													<th></th>
													<th>
														<t:eventlink event="addUser"
															async="true" class="btn btn-default">add user</t:eventlink>
													</th>
												</tr>
											</t:form>
										</thead>
									</table>
								</th>
							</tr>
						</thead>
					</div>
				</div>
			</div>
		</div>
	</div>
</html>